<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6031196392278827"
        crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Free printable math worksheets for kids. Addition, subtraction, multiplication, division, and story-based word problems. Create custom PDFs in seconds.">
    <meta name="keywords"
        content="math worksheets, word problems, statement problems, printable math, kids math practice, addition, subtraction, multiplication, division, free math resources">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Kids Math Wizard | Free Printable Math & Word Problem Worksheets">
    <meta property="og:description"
        content="Generate custom math worksheets for kids. Choose from Numeric practice or Story-based Statement problems. Unlimited free downloads.">
    <!-- <meta property="og:image" content="https://mathwizard.app/assets/og-image.jpg"> -->

    <title>Kids Math Wizard | Free Printable Math & Word Problem Worksheets</title>
    <link rel="stylesheet" href="assets/styles.css">
</head>

<body>

    <div class="container">
        <header>
            <h1 class="brand-title">Kids Math Wizard</h1>
            <p class="brand-subtitle">Create custom numeric and statement problem worksheets in seconds.</p>
        </header>

        <main>
            <div class="ad-slot">Advertisement</div>

            <section class="config-panel">
                <div class="mode-tabs">
                    <div class="mode-tab active" data-mode="numeric" onclick="selectMode('numeric')">
                        <span style="font-size: 1.2rem; margin-right: 0.5rem;">üî¢</span> Numeric Problems
                    </div>
                    <div class="mode-tab" data-mode="statement" onclick="selectMode('statement')">
                        <span style="font-size: 1.2rem; margin-right: 0.5rem;">üìñ</span> Word Problems
                    </div>
                    <div class="mode-tab" data-mode="tables" onclick="selectMode('tables')">
                        <span style="font-size: 1.2rem; margin-right: 0.5rem;">‚úñÔ∏è</span> Tables
                    </div>
                    <div class="tab-indicator"></div>
                </div>

                <div class="config-section" id="ops-section">
                    <h2 class="section-title"><span role="img" aria-hidden="true">‚öôÔ∏è</span> 1. Choose Operation</h2>
                    <div class="operations-grid">
                        <div class="op-card active" data-value="addition" onclick="selectOperation('addition')">
                            <span class="op-icon" role="img" aria-label="Addition">‚ûï</span>
                            <div class="op-name">Addition</div>
                            <div class="op-example">12 + 45</div>
                        </div>
                        <div class="op-card" data-value="subtraction" onclick="selectOperation('subtraction')">
                            <span class="op-icon" role="img" aria-label="Subtraction">‚ûñ</span>
                            <div class="op-name">Subtraction</div>
                            <div class="op-example">85 - 23</div>
                        </div>
                        <div class="op-card" data-value="multiplication" onclick="selectOperation('multiplication')">
                            <span class="op-icon" role="img" aria-label="Multiplication">‚úñÔ∏è</span>
                            <div class="op-name">Multiplication</div>
                            <div class="op-example">12 √ó 5</div>
                        </div>
                        <div class="op-card" data-value="division" onclick="selectOperation('division')">
                            <span class="op-icon" role="img" aria-label="Division">‚ûó</span>
                            <div class="op-name">Division</div>
                            <div class="op-example">25 √∑ 5</div>
                        </div>
                    </div>
                </div>

                <div id="tables-section" class="config-section" style="display:none;">
                    <h2 class="section-title"><span role="img" aria-hidden="true">üî¢</span> Select Tables</h2>
                    <p class="section-desc">Select which multiplication tables to practice.</p>
                    <div class="tables-grid" id="tables-grid"></div>

                    <div class="setting-group" style="margin-top:2rem;">
                        <label class="setting-label">Multiplication Range (√ó1 to):</label>
                        <div class="stepper-control">
                            <button class="stepper-btn" onclick="updateTableLimit(-1)">-</button>
                            <input type="number" id="table-limit" value="10" min="5" max="20" readonly
                                class="stepper-value">
                            <button class="stepper-btn" onclick="updateTableLimit(1)">+</button>
                        </div>
                    </div>
                </div>

                <div class="config-section" id="digits-section">
                    <h2 class="section-title"><span role="img" aria-hidden="true">üî¢</span> 2. Difficulty (Digits)</h2>
                    <div class="digits-grid">
                        <div class="diff-card active" data-digits="1" onclick="selectDigits(1)">
                            <div class="diff-title"><span class="d-num">1</span> Digit</div>
                            <div class="diff-example">e.g. 5 + 3</div>
                        </div>
                        <div class="diff-card" data-digits="2" onclick="selectDigits(2)">
                            <div class="diff-title"><span class="d-num">2</span> Digits</div>
                            <div class="diff-example">e.g. 23 + 45</div>
                        </div>
                        <div class="diff-card" data-digits="3" onclick="selectDigits(3)">
                            <div class="diff-title"><span class="d-num">3</span> Digits</div>
                            <div class="diff-example">e.g. 123 + 456</div>
                        </div>
                        <div class="diff-card" data-digits="4" onclick="selectDigits(4)">
                            <div class="diff-title"><span class="d-num">4</span> Digits</div>
                            <div class="diff-example">e.g. 1234 + 5678</div>
                        </div>
                        <div class="diff-card" data-digits="5" onclick="selectDigits(5)">
                            <div class="diff-title"><span class="d-num">5</span> Digits</div>
                            <div class="diff-example">e.g. 11223 + 44556</div>
                        </div>
                        <div class="diff-card" data-digits="6" onclick="selectDigits(6)">
                            <div class="diff-title"><span class="d-num">6</span> Digits</div>
                            <div class="diff-example">e.g. 112233 + 445566</div>
                        </div>
                    </div>
                </div>

                <div class="config-section" id="layout-section">
                    <h2 class="section-title"><span role="img" aria-hidden="true">üìê</span> 3. Customize Layout</h2>
                    <div class="layout-grid">
                        <div class="layout-card active" data-layout="vertical" onclick="selectLayout('vertical')">
                            <div class="mini-preview vertical">
                                <div class="p-col">
                                    <span id="preview-v-n1">8</span>
                                    <span id="preview-v-n2">+ 5</span>
                                    <div class="p-line"></div>
                                </div>
                            </div>
                            <div class="layout-name">Vertical</div>
                        </div>
                        <div class="layout-card" data-layout="horizontal" onclick="selectLayout('horizontal')">
                            <div class="mini-preview horizontal">
                                <span class="p-num">1)</span>
                                <span id="preview-h-eq" class="p-eq">8 + 5 = ___</span>
                            </div>
                            <div class="layout-name">Horizontal</div>
                        </div>
                    </div>
                </div>

                <div class="settings-grid">
                    <div class="setting-group" id="q-count-setting">
                        <label class="setting-label" for="q-count">Number of problems:</label>
                        <div class="stepper-control">
                            <button class="stepper-btn" onclick="updateCount(-5)" aria-label="Decrease">‚àí</button>
                            <input type="number" id="q-count" value="20" min="5" max="60" readonly
                                class="stepper-value">
                            <button class="stepper-btn" onclick="updateCount(5)" aria-label="Increase">+</button>
                        </div>
                    </div>

                    <div id="terms-setting" class="setting-group">
                        <label class="setting-label" for="q-terms">Terms per problem:</label>
                        <div class="stepper-control">
                            <button class="stepper-btn" onclick="updateTerms(-1)" aria-label="Decrease">‚àí</button>
                            <input type="number" id="q-terms" value="2" min="2" max="6" readonly class="stepper-value">
                            <button class="stepper-btn" onclick="updateTerms(1)" aria-label="Increase">+</button>
                        </div>
                    </div>

                    <div class="setting-group">
                        <label class="setting-label" for="include-answers">Include Answer Key?</label>
                        <label class="switch">
                            <input type="checkbox" id="include-answers" aria-label="Toggle Answer Key inclusion">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <button class="btn-primary" onclick="generate()">
                    Download PDF Worksheet
                </button>

                <div class="pdf-preview-mockup">
                    <p class="preview-label">Sample PDF Output:</p>
                    <img src="assets/pdf-preview.png" alt="Math Worksheet Example Preview" class="mockup-img"
                        onclick="openImagePreview()" style="cursor: pointer;">
                </div>
            </section>

            <!-- Preview section removed -->

            <section class="info-section">
                <div class="features-grid">
                    <div class="feature-card">
                        <h3>‚ú® High Quality PDFs</h3>
                        <p>Generate clean, teacher-grade PDF worksheets perfectly formatted for standard A4 paper.</p>
                    </div>
                    <div class="feature-card">
                        <h3>üéöÔ∏è Custom Difficulty</h3>
                        <p>From simple 1-digit addition to complex 6-digit multiplication. Grow with your child's
                            skills.</p>
                    </div>
                    <div class="feature-card">
                        <h3>üìñ Word Problems</h3>
                        <p>Generate unique story-based problems for all operations to enhance reading and critical
                            thinking.</p>
                    </div>
                    <div class="feature-card">
                        <h3>‚úÖ Instant Answers</h3>
                        <p>Optionally include an <strong>Answer Key</strong> on the second page to make grading quick
                            and easy.</p>
                    </div>
                </div>

                <div class="how-to-use">
                    <h2 class="section-title">How to Use Kids Math Wizard</h2>
                    <ol class="steps-list">
                        <li><strong>Select Mode:</strong> Choose between <span
                                style="color:var(--primary); font-weight:700">Numeric</span> or <span
                                style="color:var(--primary); font-weight:700">Statement</span> problems.</li>
                        <li><strong>Configure:</strong> Pick your Operation (Add, Sub, Mul, Div) and Difficulty
                            (Digits).</li>
                        <li><strong>Customize:</strong> For numeric problems, choose Vertical or Horizontal layout.</li>
                        <li><strong>Generate:</strong> Preview the mockup and click <strong>Download PDF</strong>!</li>
                    </ol>
                </div>

                <div class="seo-text">
                    <h2>Why Daily Math Practice Matters?</h2>
                    <p>Consistent practice builds <strong>number fluency</strong> and <strong>confidence</strong>.
                        Our tool now includes <strong>Statement Problems</strong> (Word Problems) to help students apply
                        math skills to real-world scenarios, improving both calculation and reading comprehension.
                        Whether it's <em>summer review</em>, <em>homeschooling</em>, or <em>extra homework help</em>,
                        Kids Math Wizard provides endless custom worksheets for every learner.
                    </p>
                </div>
            </section>

            <div class="ad-slot">Advertisement</div>
        </main>

        <footer>
            <div class="footer-links" style="margin-top: 3rem; text-align: center; margin-bottom: 1rem;">
                <a href="about.html" style="color: var(--text-muted); text-decoration: none; margin: 0 0.5rem;">About
                    Us</a> ‚Ä¢
                <a href="contact.html"
                    style="color: var(--text-muted); text-decoration: none; margin: 0 0.5rem;">Contact Us</a> ‚Ä¢
                <a href="privacy.html"
                    style="color: var(--text-muted); text-decoration: none; margin: 0 0.5rem;">Privacy Policy</a>
            </div>
            <p style="text-align: center; color: var(--text-muted); margin-top: 1rem; font-size: 0.9rem;">
                &copy;
                <script>document.write(new Date().getFullYear())</script> Kids Math Wizard
            </p>
        </footer>
    </div>

    <!-- Image Preview Modal -->
    <div id="image-modal" class="image-modal" onclick="closeImagePreview()">
        <span class="close-modal">&times;</span>
        <img class="modal-content" id="modal-img" onclick="event.stopPropagation()">
    </div>

    <script src="assets/vendor/jspdf.umd.min.js"></script>
    <script src="assets/word-problems.js"></script>
    <script src="assets/pdf.js"></script>
    <script src="assets/app.js"></script>
    <script>
        // UI Logic

        // State
        let currentConfig = {
            mode: 'numeric', // numeric, statement, tables
            type: 'addition',
            count: 20,
            digits: 1,
            layout: 'vertical',
            tables: [2, 3, 4, 5],
            tableLimit: 10
        };

        // Tables State Helper
        let selectedTables = new Set([2, 3, 4, 5]);

        function initTablesUI() {
            const grid = document.getElementById('tables-grid');
            if (!grid) return;
            grid.innerHTML = '';
            for (let i = 1; i <= 20; i++) {
                const btn = document.createElement('button');
                btn.className = `table-btn ${selectedTables.has(i) ? 'active' : ''}`;
                btn.innerText = i;
                btn.onclick = () => toggleTable(i);
                grid.appendChild(btn);
            }
        }

        function toggleTable(n) {
            if (selectedTables.has(n)) selectedTables.delete(n);
            else selectedTables.add(n);

            // Sync with config
            currentConfig.tables = Array.from(selectedTables).sort((a, b) => a - b);

            initTablesUI();
            updatePreview();
        }

        function updateTableLimit(delta) {
            let val = currentConfig.tableLimit + delta;
            val = Math.max(5, Math.min(20, val));
            currentConfig.tableLimit = val;
            document.getElementById('table-limit').value = val;
            updatePreview();
        }

        function selectMode(mode) {
            currentConfig.mode = mode;
            document.querySelectorAll('.mode-tab').forEach(el => el.classList.remove('active'));
            document.querySelector(`[data-mode="${mode}"]`).classList.add('active');

            const ind = document.querySelector('.tab-indicator');
            const img = document.querySelector('.mockup-img');

            // Sections
            const secOps = document.getElementById('ops-section');
            const secTables = document.getElementById('tables-section');
            const secDigits = document.getElementById('digits-section');
            const secLayout = document.getElementById('layout-section');
            const setQCount = document.getElementById('q-count-setting');
            const setTerms = document.getElementById('terms-setting');

            // Reset
            secOps.style.display = 'none';
            secTables.style.display = 'none';
            secDigits.style.display = 'none';
            secLayout.style.display = 'none';

            // Top-level settings default visibility
            if (setQCount) setQCount.style.display = 'block';

            if (mode === 'tables') {
                ind.style.transform = 'translateX(200%)';
                currentConfig.layout = 'horizontal';
                secTables.style.display = 'block';

                // Hide Settings irrelevant for tables
                if (setQCount) setQCount.style.display = 'none';
                if (setTerms) setTerms.style.display = 'none';

                if (img) img.src = 'assets/Addition%20Numeric.jpeg';
            } else if (mode === 'statement') {
                ind.style.transform = 'translateX(100%)';
                currentConfig.layout = 'word-problem';
                secOps.style.display = 'block';
                secDigits.style.display = 'block';
                if (img) img.src = 'assets/Addition%20Statement.jpeg';
            } else {
                ind.style.transform = 'translateX(0)';
                secOps.style.display = 'block';
                secDigits.style.display = 'block';
                secLayout.style.display = 'block';

                // Restore valid layout if coming from Statement mode
                if (currentConfig.layout === 'word-problem') {
                    currentConfig.layout = 'vertical';
                }
                // Update Image and Selection based on layout
                selectLayout(currentConfig.layout);
            }

            updatePreview();
        }

        function selectOperation(op) {
            document.querySelectorAll('.op-card').forEach(el => el.classList.remove('active'));
            document.querySelector(`.op-card[data-value="${op}"]`).classList.add('active');
            currentConfig.type = op;

            const mode = document.querySelector('.mode-tab[data-mode="statement"]').classList.contains('active') ? 'statement' : 'numeric';
            const termsEl = document.getElementById('terms-setting');
            // Show terms only for Addition AND Numeric mode
            if (op === 'addition' && mode === 'numeric') {
                termsEl.style.display = '';
            } else {
                termsEl.style.display = 'none';

                // Reset terms to 2 for non-addition operations
                if (op !== 'addition') {
                    currentConfig.terms = 2;
                    const termsInput = document.getElementById('q-terms');
                    if (termsInput) termsInput.value = 2;
                    updateRangeVal('terms-val', 2);
                }
            }

            updateCardExamples(op);
            updateLayoutPreviews();
        }

        function updateCardExamples(op) {
            const examples = document.querySelectorAll('.diff-example');
            let sym = '+';
            if (op === 'subtraction') sym = '-';
            else if (op === 'multiplication') sym = '√ó';
            else if (op === 'division') sym = '√∑';

            examples.forEach((el, i) => {
                const digits = i + 1;
                let text = "e.g. ";
                if (digits === 1) text += `5 ${sym} 3`;
                else if (digits === 2) text += `23 ${sym} 45`;
                else if (digits === 3) text += `123 ${sym} 456`;
                else if (digits === 4) text += `1234 ${sym} 5678`;
                else if (digits === 5) text += `11223 ${sym} 44556`;
                else if (digits === 6) text += `112233 ${sym} 445566`;
                el.innerText = text;
            });
        }

        function selectDigits(val) {
            const num = parseInt(val);
            currentConfig.digits = num;
            document.querySelectorAll('[data-digits]').forEach(el => el.classList.remove('active'));
            const card = document.querySelector(`[data-digits="${num}"]`);
            if (card) card.classList.add('active');
            updateLayoutPreviews();
        }

        function updateCount(delta) {
            const input = document.getElementById('q-count');
            let value = parseInt(input.value) + delta;
            value = Math.max(5, Math.min(60, value));
            // Ensure it's a multiple of 5
            value = Math.round(value / 5) * 5;
            input.value = value;
        }

        function updateTerms(delta) {
            const input = document.getElementById('q-terms');
            let value = parseInt(input.value) + delta;
            value = Math.max(2, Math.min(6, value));
            input.value = value;
            currentConfig.terms = value;
            updateLayoutPreviews();
        }

        function updateLayoutPreviews() {
            const digits = currentConfig.digits || 1;
            const terms = (currentConfig.type === 'addition' || currentConfig.type === 'mixed') ? (currentConfig.terms || 2) : 2;
            let sym = '+';
            if (currentConfig.type === 'subtraction') sym = '‚àí';
            else if (currentConfig.type === 'multiplication') sym = '√ó';
            else if (currentConfig.type === 'division') sym = '√∑';

            const getNum = (d) => {
                if (d === 1) return 8;
                if (d === 2) return 12;
                if (d === 3) return 123;
                if (d === 4) return 1234;
                if (d === 5) return 12345;
                return 123456;
            };

            // Generate a random number with exact digit count
            const getRandomNum = (d, seed) => {
                if (d === 1) return Math.min(9, 5 + seed);
                const min = Math.pow(10, d - 1);
                const max = Math.pow(10, d) - 1;
                // Use seed to generate different but consistent numbers
                const range = max - min;
                return min + Math.floor((range * (0.3 + seed * 0.15)) % range);
            };

            const n1 = getNum(digits);

            // Update Vertical Box - Show ALL terms
            const vBox = document.getElementById('preview-v-box');
            if (vBox) {
                let vHTML = "";
                for (let i = 0; i < terms; i++) {
                    const isLast = i === terms - 1;
                    const val = i === 0 ? n1 : getRandomNum(digits, i);
                    vHTML += `<span>${isLast ? sym + ' ' : ''}${val}</span>`;
                }
                vHTML += `<div class="p-line"></div>`;
                vBox.innerHTML = vHTML;
            }

            // Update Horizontal Line - Show ALL terms
            const hEq = document.getElementById('preview-h-eq');
            if (hEq) {
                let hText = n1.toString();
                for (let i = 1; i < terms; i++) {
                    hText += ` ${sym} ${getRandomNum(digits, i)}`;
                }
                hEq.innerText = hText + " = ___";
            }
        }

        function selectLayout(layout) {
            currentConfig.layout = layout;
            document.querySelectorAll('[data-layout]').forEach(el => el.classList.remove('active'));
            document.querySelector(`[data-layout="${layout}"]`).classList.add('active');

            // Update preview image
            const img = document.querySelector('.mockup-img');
            if (img) {
                if (layout === 'horizontal') img.src = 'assets/2x2%20horizontal.jpeg';
                else img.src = 'assets/Addition%20Numeric.jpeg';
            }
        }

        function updateRangeVal(id, val) {
            document.getElementById(id).innerText = val;
        }

        async function generate() {
            const btn = document.querySelector('.btn-primary');
            const originalText = btn.innerText;
            btn.classList.add('generating');
            btn.innerText = "Creating...";

            try {
                currentConfig.count = parseInt(document.getElementById('q-count').value);
                currentConfig.includeAnswers = document.getElementById('include-answers').checked;
                currentConfig.terms = parseInt(document.getElementById('q-terms').value) || 2;

                const getRange = (d) => {
                    if (d === 1) return { min: 1, max: 9 };
                    const min = Math.pow(10, d - 1);
                    const max = Math.pow(10, d) - 1;
                    return { min, max };
                };

                const d = parseInt(currentConfig.digits) || 1;
                const r = getRange(d);
                currentConfig.min1 = r.min;
                currentConfig.max1 = r.max;
                currentConfig.min2 = r.min;
                currentConfig.max2 = r.max;
                currentConfig.digits = d;

                const engine = new WorksheetGenerator();
                const data = engine.generate(currentConfig);

                // Direct PDF Generation (No Preview)
                if (window.PDFGenerator) {
                    const gen = new window.PDFGenerator();
                    gen.generate(data);
                }
            } catch (e) {
                console.error(e);
                alert('Error generating PDF. Please try again.');
            } finally {
                btn.classList.remove('generating');
                btn.innerText = originalText;
            }
        }

        function downloadPDF() {
            if (window.lastData && window.PDFGenerator) {
                const gen = new window.PDFGenerator();
                gen.generate(window.lastData);
            }
        }

        function openImagePreview() {
            const img = document.querySelector('.mockup-img');
            if (img) {
                document.getElementById('modal-img').src = img.src;
                document.getElementById('image-modal').classList.add('active');
            }
        }

        function closeImagePreview() {
            document.getElementById('image-modal').classList.remove('active');
        }

        window.onload = () => {
            initTablesUI();
            selectOperation('addition');
            selectDigits(1);
            selectLayout('vertical');
        };
    </script>
</body>

</html>