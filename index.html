<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Free printable math worksheets for kids. Addition, subtraction, multiplication, and mixed practice. No login required. Create custom PDFs in seconds.">
    <meta name="keywords"
        content="math worksheets, printable math, kids math practice, addition worksheets, subtraction worksheets, 2nd grade math, 3rd grade math, free math resources">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Math Wizard | Free Printable Math Worksheets for Kids">
    <meta property="og:description"
        content="Generate custom math worksheets for kids in seconds. Choose difficulty, operations, and layout. Perfect for parents and teachers.">
    <meta property="og:image" content="https://mathwizard.app/assets/og-image.jpg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Math Wizard | Free Printable Math Worksheets for Kids">
    <meta property="twitter:description"
        content="Generate custom math worksheets for kids in seconds. Choose difficulty, operations, and layout.">

    <title>Math Wizard | Free Printable Math Worksheet Generator for Kids</title>
    <link rel="stylesheet" href="assets/styles.css">
    <!-- Inline SVG definitions if needed, otherwise using unicode/emoji or simple logic in JS for icons -->
</head>

<body>

    <div class="container">
        <header>
            <h1 class="brand-title">Math Wizard</h1>
            <p class="brand-subtitle">Create custom printable worksheets in seconds.</p>
        </header>

        <main>
            <div class="ad-slot">Advertisement</div>

            <!-- App Dashboard Grid -->
            <div class="app-dashboard-grid">
                <!-- 1. Left: Configuration -->
                <section id="config-sidebar" class="config-sidebar">

                    <div class="config-section">
                        <h2 class="section-title"><span>‚öôÔ∏è</span> 1. Operation</h2>
                        <div class="operations-grid">
                            <div class="op-card active" data-value="addition" onclick="selectOperation('addition')">
                                <span class="op-icon">‚ûï</span>
                                <div class="op-name">Addition</div>
                            </div>
                            <div class="op-card" data-value="subtraction" onclick="selectOperation('subtraction')">
                                <span class="op-icon">‚ûñ</span>
                                <div class="op-name">Subtraction</div>
                            </div>
                            <div class="op-card" data-value="multiplication"
                                onclick="selectOperation('multiplication')">
                                <span class="op-icon">‚úñÔ∏è</span>
                                <div class="op-name">Multiplication</div>
                            </div>
                            <div class="op-card" data-value="mixed" onclick="selectOperation('mixed')">
                                <span class="op-icon">üé≤</span>
                                <div class="op-name">Mixed</div>
                            </div>
                        </div>
                    </div>

                    <div class="config-section">
                        <div class="setting-row">
                            <h2 class="section-title"><span>üî¢</span> Digits</h2>
                            <div class="stepper">
                                <button onclick="step('digits', -1)">-</button>
                                <span id="digits-val">1</span>
                                <button onclick="step('digits', 1)">+</button>
                            </div>
                        </div>
                    </div>

                    <div class="config-section">
                        <div class="setting-row">
                            <h2 class="section-title"><span>üìè</span> Orientation</h2>
                            <select id="layout-select" class="modern-select" onchange="selectLayout(this.value)">
                                <option value="vertical">Vertical Stack</option>
                                <option value="horizontal">Horizontal Line</option>
                            </select>
                        </div>
                    </div>

                    <div class="config-section">
                        <div class="setting-row">
                            <h2 class="section-title"><span>üìã</span> Problems</h2>
                            <div class="stepper">
                                <button onclick="step('count', -5)">-</button>
                                <span id="q-count-val">20</span>
                                <button onclick="step('count', 5)">+</button>
                            </div>
                        </div>
                    </div>

                    <div class="config-section" id="terms-setting">
                        <div class="setting-row">
                            <h2 class="section-title"><span>‚ûï</span> Terms</h2>
                            <div class="stepper">
                                <button onclick="step('terms', -1)">-</button>
                                <span id="q-terms-val">2</span>
                                <button onclick="step('terms', 1)">+</button>
                            </div>
                        </div>
                    </div>

                    <div class="config-section">
                        <div class="setting-group-row">
                            <label class="section-title" style="margin:0; font-size:1rem;"><span>üîë</span>
                                Answers</label>
                            <label class="switch">
                                <input type="checkbox" id="include-answers" checked onchange="generate()">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </section>

                <!-- 2. Right: Action & Preview Area -->
                <section class="preview-area">
                    <div class="action-bar-floating" id="global-actions" style="margin-bottom: 1rem;">
                        <button class="btn-action shuffle" onclick="generate()" title="Shuffle Problems">üé≤
                            Shuffle</button>
                        <button class="btn-action primary" onclick="downloadPDF()"><span>üì•</span> Download PDF</button>
                        <button class="btn-action secondary" onclick="window.print()"><span>üñ®Ô∏è</span> Print</button>
                    </div>

                    <div class="preview-tabs" id="preview-tabs">
                        <button class="preview-tab active" onclick="switchPage(0)">Worksheet</button>
                        <button class="preview-tab" id="answer-tab" onclick="switchPage(1)">Answer Key</button>
                    </div>

                    <div class="preview-miniature-container">
                        <div id="worksheet-preview" class="worksheet-preview-mini">
                            <!-- Live content here -->
                            <div class="empty-state-preview">
                                <p>Configuring your worksheet...</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>


            <!-- SEO Content & Instructions for Parents -->
            <section class="info-section">
                <div class="features-grid">
                    <div class="feature-card">
                        <h3>üé® Custom Layouts</h3>
                        <p>Choose between <strong>Vertical (stacked)</strong> or <strong>Horizontal (inline)</strong>
                            layouts based on your child's preference.</p>
                    </div>
                    <div class="feature-card">
                        <h3>üìà Progressive Difficulty</h3>
                        <p>Generate problems from <strong>1 digit to 6 digits</strong>. Perfect for Kindergarten up to
                            6th Grade.</p>
                    </div>
                    <div class="feature-card">
                        <h3>üìÑ PDF Export</h3>
                        <p>Download your worksheet as a high-quality PDF ready for printing on standard A4 or Letter
                            paper.</p>
                    </div>
                    <div class="feature-card">
                        <h3>üîë Answer Keys</h3>
                        <p>Optionally include an <strong>Answer Key</strong> on the second page to make grading quick
                            and easy.</p>
                    </div>
                </div>

                <div class="how-to-use">
                    <h2 class="section-title">How to Use Math Wizard</h2>
                    <ol class="steps-list">
                        <li><strong>Select Operation:</strong> Choose Addition, Subtraction, Multiplication, or a Mixed
                            practice set.</li>
                        <li><strong>Choose Complexity:</strong> Pick the number of digits (1-6) to match your child's
                            learning level.</li>
                        <li><strong>Customize Layout:</strong> Select Vertical for traditional column math or Horizontal
                            for mental math practice.</li>
                        <li><strong>Generate & Print:</strong> Click the button, preview your worksheet, and download
                            the PDF to print!</li>
                    </ol>
                </div>

                <div class="seo-text">
                    <h2>Why Daily Math Practice Matters?</h2>
                    <p>Consistent math practice helps children build <strong>number fluency</strong> and
                        <strong>confidence</strong>. Our free tool is designed by parents, for parents, to eliminate the
                        hassle of searching for worksheets. Whether it's <em>summer review</em>, <em>homeschooling
                            curriculum</em>, or <em>extra homework help</em>, Math Wizard provides endless variety to
                        keep kids engaged.
                    </p>
                </div>
            </section>

            <div class="ad-slot">Advertisement</div>
        </main>

        <footer>
            <!-- AdSense placement later -->
            <p style="text-align: center; color: var(--text-muted); margin-top: 3rem; font-size: 0.9rem;">
                &copy;
                <script>document.write(new Date().getFullYear())</script> Math Wizard
            </p>
        </footer>
    </div>

    <script src="assets/vendor/jspdf.umd.min.js"></script>
    <script src="assets/pdf.js"></script>
    <script src="assets/app.js"></script>
    <script>
        // UI Logic

        // State
        let currentConfig = {
            title: 'Addition Practice',
            type: 'addition',
            count: 20,
            digits: 1,
            layout: 'vertical'
        };

        function selectOperation(op) {
            // Update UI
            document.querySelectorAll('.op-card').forEach(el => el.classList.remove('active'));
            document.querySelector(`.op-card[data-value="${op}"]`).classList.add('active');

            // Update State
            currentConfig.type = op;

            // Show/Hide Terms selector (only for addition/mixed)
            const termsEl = document.getElementById('terms-setting');
            if (op === 'addition' || op === 'mixed') {
                termsEl.style.display = 'block';
            } else {
                termsEl.style.display = 'none';
            }

            // Update Card Examples
            updateCardExamples(op);
            generate();
        }

        function updateCardExamples(op) {
            const examples = document.querySelectorAll('.diff-example');
            // 0: 1 Digit, 1: 2 Digits, 2: 3 Digits, 3: 4 Digits, 4: 5 Digits, 5: 6 Digits

            const sym = op === 'subtraction' ? '-' : (op === 'multiplication' ? '√ó' : '+');

            examples.forEach((el, i) => {
                const digits = i + 1;
                let text = "e.g. ";
                if (digits === 1) text += `5 ${sym} 3`;
                else if (digits === 2) text += `23 ${sym} 45`;
                else if (digits === 3) text += `123 ${sym} 456`;
                else if (digits === 4) text += `1234 ${sym} 5678`;
                else if (digits === 5) text += `11223 ${sym} 44556`;
                else if (digits === 6) text += `112233 ${sym} 445566`;
                el.innerText = text;
            });
        }

        function step(type, delta) {
            if (type === 'digits') {
                currentConfig.digits = Math.max(1, Math.min(6, currentConfig.digits + delta));
                document.getElementById('digits-val').innerText = currentConfig.digits;
                updateTermsVal(currentConfig.terms || 2);
            } else if (type === 'count') {
                currentConfig.count = Math.max(5, Math.min(60, currentConfig.count + delta));
                document.getElementById('q-count-val').innerText = currentConfig.count;
            } else if (type === 'terms') {
                currentConfig.terms = Math.max(2, Math.min(6, (currentConfig.terms || 2) + delta));
                document.getElementById('q-terms-val').innerText = currentConfig.terms;
                updateTermsVal(currentConfig.terms);
            }
            generate();
        }

        function selectLayout(layout) {
            currentConfig.layout = layout;
            generate();
        }

        function updateRangeVal(id, val) {
            document.getElementById(id).innerText = val;
        }

        function updateTermsVal(val) {
            document.getElementById('q-terms-val').innerText = val;
            const preview = document.getElementById('terms-example-preview');
            if (!preview) return;
            const count = parseInt(val);
            const d = currentConfig.digits || 1;

            // Generate a starting number based on digits
            const getBase = (digits) => {
                if (digits === 1) return 5;
                if (digits === 2) return 25;
                if (digits === 3) return 125;
                if (digits === 4) return 1250;
                if (digits === 5) return 12500;
                return 125000;
            };

            let base = getBase(d);
            let ex = base.toString();
            for (let i = 1; i < count; i++) {
                // Increment slightly for variety
                let nextNum = base + (i * Math.pow(10, d - 1) / 2);
                ex += " + " + Math.floor(nextNum);
            }
            preview.innerText = `Example: ${ex}`;
        }

        async function generate() {
            // Gather config
            currentConfig.count = currentConfig.count || 20;
            currentConfig.includeAnswers = document.getElementById('include-answers').checked;
            currentConfig.terms = currentConfig.terms || 2;

            const getRange = (d) => {
                if (d === 1) return { min: 1, max: 9 };
                const min = Math.pow(10, d - 1);
                const max = Math.pow(10, d) - 1;
                return { min, max };
            };

            const d = parseInt(currentConfig.digits) || 1;
            const r = getRange(d);

            currentConfig.min1 = r.min;
            currentConfig.max1 = r.max;
            currentConfig.min2 = r.min;
            currentConfig.max2 = r.max;

            // Call Engine
            const engine = new WorksheetGenerator();
            const data = engine.generate(currentConfig);

            // Render
            const renderer = new WorksheetRenderer('worksheet-preview');
            renderer.render(data);

            // Save data for PDF
            window.lastData = data;
        }

        function downloadPDF() {
            if (window.lastData && window.PDFGenerator) {
                const gen = new window.PDFGenerator();
                gen.generate(window.lastData);
            }
        }

        function switchPage(index) {
            const container = document.getElementById('worksheet-preview');
            const pages = container.querySelectorAll('.worksheet-page');
            const tabs = document.querySelectorAll('.preview-tab');

            pages.forEach((p, i) => {
                p.classList.toggle('active', i === index);
            });

            tabs.forEach((t, i) => {
                t.classList.toggle('active', i === index);
            });
        }

        // Initial Load
        window.onload = () => {
            selectOperation('addition'); // Triggers first generate
        };
    </script>
</body>

</html>